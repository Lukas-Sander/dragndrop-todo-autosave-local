<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>To-Do</title>
    <link rel="stylesheet" href="src/simple.css">
    <script type="application/javascript" src="src/Sortable.min.js"></script>
    <script type="application/javascript" src="src/simple.js"></script>
    <style id="manualstyle"></style>
</head>
<body class="light">
<div class="topbar bg-accent p-l-1 p-r-1">
    <div id="time"></div>
    <div class="lastsave">
        Letzte Speicherung: <span class="lastsave-data"></span>
    </div>
    <button class="btn btn-icon btn-circle btn-icon-menu float-right options-trigger"></button>
    <div class="menu">
        <div class="row align-items-center">
            <button class="btn btn-icon btn-circle btn-icon-close options-close"></button>
            <h3>
                Optionen
            </h3>
        </div>
        <p>
            <strong>Export</strong><br>
            <button class="download-txt iconbtn"><span class="img-txt"></span> Textdatei herunterladen</button>
        </p>
        <p>
            <strong>Import</strong><br>
            <input type="file" multiple="false" accept=".txt" id="importFile">
            <button class="upload-txt iconbtn"><span class="icon img-import"></span> aus Textdatei importieren</button>
        </p>
    </div>
</div>
</div>
<div class="content p-05 card-container">
</div>
<template id="template_todo">
    <div class="card">
        <div class="row w-100">
            <textarea name="taskname" class="grow" onmouseup="save();" onchange="save();" oninput="auto_grow(this);"></textarea>
            <div>
                <div class="handle"></div>
                <input type="checkbox" name="taskdone" onchange="strikeRow(this);">
            </div>
        </div>
        <details ontoggle="save();" open>
            <summary>Details</summary>
            <div class="row w-100 justify">
                <label class="w-50 row">
                    <span class="img-prio"></span>
                    <input name="prio" type="number" min="0" max="10" onchange="save();">
                </label>
                <label class="w-50 row">
                    <span class="img-think"></span>
                    <input name="denkaufwand" type="number" min="0" max="10" class="w-50" onchange="save();">
                </label>
                <div class="delete img-trash" onclick="deleteTask(this);"></div>
            </div>
            <div class="row w-100">
                <input type="date" name="start" class="w-50" onchange="save();">
                <span class="p-l-1 p-r-1">bis</span>
                <input type="date" name="ende" class="w-50" onchange="save();">
            </div>
            <div class="row w-100">
                <textarea class="w-100" name="notizen" onmouseup="save();" onchange="save();" oninput="auto_grow(this);" onfocusin="addTextareaButtons(this);" onfocusout="removeTextareaButtons();"></textarea>
            </div>
        </details>
    </div>
</template>
<template id="template_divider">
    <div class="card divider row">
        <textarea name="dividertext" rows="1" class="grow" onmouseup="save();" onchange="save();" oninput="auto_grow(this);"></textarea>
        <div class="delete img-trash" onclick="deleteTask(this);"></div>
        <div class="handle"></div>
    </div>
</template>
<div id="element_container_inv" class="d-none">
    <div class="textarea-buttons">
        <button>⬜</button>
        <button>✅</button>
    </div>
</div>
<div id="notifications">

</div>
<div class="button-container">
    <button class="btn btn-circle btn-icon btn-icon-add bg-primary p-1" title="neue Aufgabe" type="button" id="addRow"></button>
    <button class="btn btn-circle btn-icon btn-icon-add bg-secondary p-1" title="neuer Aufteiler" type="button" id="addDivider"></button>
</div>

<script>
    // fetch('https://raw.githubusercontent.com/Lukas-Sander/dragndrop-todo-autosave-local/main/version.txt', {
    //     method: 'GET',
    //     mode: 'cors',
    //     cache: 'no-cache',
    //     headers: {
    //         'Content-Type': 'text/plain'
    //     },
    // })
    // .then(response => response.text())
    // .then((response) => {
    //     let v = response.split(".");
    //     console.log(v);
    // });
</script>
</body>
</html>